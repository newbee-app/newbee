<div class="flex justify-center mt-mid">
  <div class="flex flex-col flex-nowrap gap-y-4 md:w-2/3">
    <div class="flex flex-col flex-nowrap gap-y-2 text-center mb-10">
      <h4>Invite a user to your org</h4>
      <p>Specify the email address and role for the user you want to invite</p>
    </div>

    <form
      id="invite-member-form"
      [formGroup]="inviteMemberForm"
      (ngSubmit)="emitInvite()"
      class="flex flex-col flex-nowrap gap-y-4"
    >
      <div class="flex flex-row flex-wrap gap-x-2">
        <div class="grow flex flex-col flex-nowrap gap-y-2">
          <input
            type="text"
            id="email-input"
            formControlName="email"
            placeholder="johndoe@example.com"
            class="input input-bordered w-full"
            [ngClass]="{ 'input-error': inputDisplayError('email') }"
          />

          <newbee-alert
            [show]="inputDisplayError('email')"
            [text]="inputErrorMessage('email')"
            [type]="alertType.Error"
          ></newbee-alert>
        </div>

        <div class="grow min-w-52">
          <newbee-searchable-select
            [options]="roleOptions"
            optionName="role"
            [showSearchbar]="false"
            formControlName="role"
            [valid]="!inputDisplayError('role')"
            [errorText]="inputErrorMessage('role')"
          ></newbee-searchable-select>
        </div>
      </div>

      <button
        type="submit"
        id="invite-btn"
        [disabled]="inviteMemberForm.invalid || invitePending"
        class="btn btn-primary w-full"
      >
        <span *ngIf="invitePending" class="loading loading-spinner"></span>
        Invite
      </button>
    </form>

    <div class="w-full">
      <newbee-alert
        [type]="alertType.Success"
        [show]="!!invitedUser"
        [text]="inviteSuccessText"
      ></newbee-alert>
      <newbee-alert
        [type]="alertType.Error"
        [show]="!!miscError"
        [text]="miscError"
      ></newbee-alert>
    </div>
  </div>
</div>
