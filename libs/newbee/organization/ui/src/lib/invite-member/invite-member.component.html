<div class="flex justify-center">
  <div class="flex flex-col flex-nowrap gap-y-4 md:w-2/3">
    <div class="flex flex-col flex-nowrap gap-y-2 text-center mb-10">
      <h4>Invite a user to your org</h4>
      <p>Specify the email address and role for the user you want to invite</p>
    </div>

    <form
      id="invite-member-form"
      [formGroup]="inviteMemberForm"
      (ngSubmit)="emitInvite()"
      class="flex flex-col flex-nowrap gap-y-4"
    >
      <div class="flex flex-col flex-nowrap gap-y-2">
        <div class="flex flex-row flex-nowrap gap-x-2">
          <input
            type="text"
            id="email-input"
            formControlName="email"
            placeholder="johndoe@example.com"
            class="input border-neutral w-full"
          />
          <div class="w-52">
            <newbee-searchable-select
              [options]="roleOptions"
              optionName="role"
              [showSearchbar]="false"
              formControlName="role"
            ></newbee-searchable-select>
          </div>
        </div>

        <newbee-alert
          [show]="inputDisplayError('email') || inputDisplayError('role')"
          type="error"
          [text]="inputErrorMessage('email') || inputErrorMessage('role')"
        ></newbee-alert>
      </div>

      <button
        type="submit"
        id="invite-btn"
        [disabled]="inviteMemberForm.invalid || invitePending"
        class="btn btn-primary w-full"
      >
        <span *ngIf="invitePending" class="loading loading-spinner"></span>
        Invite
      </button>
    </form>

    <div class="w-full">
      <newbee-alert
        [show]="!!invitedUser"
        type="success"
        [text]="inviteSuccessText"
      ></newbee-alert>
      <newbee-alert
        [show]="!!httpClientError?.messages?.['misc']"
        type="error"
        [text]="httpClientError?.messages?.['misc'] ?? ''"
      ></newbee-alert>
    </div>
  </div>
</div>
