<div class="flex flex-col gap-y-2 w-full">
  <div class="relative w-full hover:cursor-pointer dark:text-white">
    <button type="button" [disabled]="disabled" (click)="toggleExpand()" class="form-select newbee-form-input w-full rounded-md text-start" [ngClass]="{'newbee-error-outline': !valid}">
      <span [ngClass]="{'text-outline-primary-light dark:text-outline-primary-dark': value === null}">{{selectedText}}</span>
    </button>

    <div class="flex flex-col items-start absolute top-[calc(100%+0.5rem)] border border-outline-secondary-light dark:border-outline-secondary-dark rounded-b-md w-48 min-w-full max-w-[200%] max-h-56 overflow-auto divide-y divide-outline-secondary-light dark:divide-outline-secondary-dark z-10" [ngClass]="{'hidden': !expanded || disabled}">
      <div class="w-full sticky top-0">
        <newbee-searchbar [border]="false" [(searchTerm)]="searchTerm"></newbee-searchbar>
        </div>
      <button type="button" *ngFor="let option of optionsWithSearch" (click)="selectOption(option.value)" class="text-start w-full py-2 px-3 bg-bg-primary-light dark:bg-bg-primary-dark hover:bg-highlight-primary-light hover:dark:bg-highlight-primary-dark hover:text-white hover:dark:text-black">{{option.dropdownValue}}</button>
    </div>
  </div>

  <newbee-error-footer [displayError]="!valid" [error]="errorText"></newbee-error-footer>
</div>
