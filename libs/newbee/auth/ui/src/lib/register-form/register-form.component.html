<newbee-base-form>
  <div class="flex flex-col flex-nowrap space-y-5 max-w-full w-[28rem]">
    <h3>Getting started is free, always</h3>

    <form
      id="register-form"
      [formGroup]="registerForm"
      (ngSubmit)="emitRegister()"
      class="flex flex-col flex-nowrap space-y-5"
    >
      <div class="flex flex-col gap-y-2">
        <label for="email-input" class="sr-only">Email address</label>
        <input
          type="email"
          id="email-input"
          formControlName="email"
          placeholder="Email address*"
          required
          class="input border-neutral w-full"
          [ngClass]="{ 'input-error': inputDisplayError('email') }"
        />
        <newbee-alert
          [show]="inputDisplayError('email')"
          [type]="alertType.Error"
          [text]="inputErrorMessage('email')"
        ></newbee-alert>

        <label for="name-input" class="sr-only">Name</label>
        <input
          type="text"
          id="name-input"
          formControlName="name"
          placeholder="Name*"
          required
          class="input border-neutral w-full"
          [ngClass]="{ 'input-error': inputDisplayError('name') }"
        />
        <newbee-alert
          [show]="inputDisplayError('name')"
          [type]="alertType.Error"
          [text]="inputErrorMessage('name')"
        ></newbee-alert>

        <label for="display-name-input" class="sr-only"
          >Display name (optional)</label
        >
        <input
          type="text"
          id="display-name-input"
          formControlName="displayName"
          placeholder="Display name"
          class="input border-neutral w-full"
        />
        <newbee-alert
          [show]="inputDisplayError('displayName')"
          [type]="alertType.Error"
          [text]="inputErrorMessage('displayName')"
        ></newbee-alert>

        <newbee-phone-input formControlName="phoneNumber"></newbee-phone-input>
      </div>

      <div id="buttons" class="flex flex-col flex-nowrap gap-y-2">
        <button
          id="submit-button"
          type="submit"
          [disabled]="registerForm.invalid || registerPending"
          class="btn btn-primary w-full"
        >
          <span *ngIf="registerPending" class="loading loading-spinner"></span>
          Create Account
        </button>

        <newbee-alert
          [show]="!!miscError"
          [type]="alertType.Error"
          [text]="miscError"
        ></newbee-alert>
      </div>
    </form>
  </div>

  <div>
    <p>Already using NewBee?</p>
    <a id="login-link" (click)="emitNavigateToLogin()" class="link link-info">
      Log in to an existing account
    </a>
  </div>
</newbee-base-form>
