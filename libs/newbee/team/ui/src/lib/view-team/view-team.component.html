<div>
  <div *ngIf="isAdmin; else teamName" class="w-fit">
    <newbee-dropdown placement="bottom-start">
      <h2
        label
        class="flex flex-row flex-nowrap items-center underline text-left"
      >
        {{ team.team.name }}

        <!-- chevron-down svg -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M19.5 8.25l-7.5 7.5-7.5-7.5"
          />
        </svg>
      </h2>

      <ul dropdown class="menu flex flex-col flex-nowrap">
        <li>
          <a (click)="teamNavigate.emit(keyword.Edit)" class="flex"
            >Edit team</a
          >
        </li>
        <li>
          <a (click)="teamNavigate.emit(keyword.Invite)" class="flex"
            >Invite members</a
          >
        </li>
      </ul>
    </newbee-dropdown>
  </div>

  <ng-template #teamName>
    <h2>{{ team.team.name }}</h2>
  </ng-template>

  <div class="divider"></div>
</div>

<div>
  <h4>Members</h4>
  <a (click)="teamNavigate.emit(shortUrl.Member)" class="link opacity-50">{{
    totalMembers
  }}</a>

  <div class="flex flex-row flex-nowrap gap-x-4 mt-6 pb-6 overflow-x-auto">
    <button
      type="button"
      *ngFor="let member of team.teamMembers.sample"
      (click)="orgNavigate.emit(member.orgMember.slug)"
      class="flex-none card shadow-xl p-4 bg-base-200 w-52 truncate"
    >
      <h5 class="underline">{{ member.user.displayName }}</h5>
      <p>{{ member.user.name }}</p>
      <a [href]="'mailto:' + member.user.email" class="link link-info">{{
        member.user.email
      }}</a>
      <p class="opacity-50">{{ member.teamMember.role }}</p>
    </button>

    <button
      type="button"
      (click)="teamNavigate.emit(shortUrl.Member)"
      class="flex-none card shadow-xl p-4 bg-base-200 w-52 flex justify-center items-center"
    >
      <!-- arrow-right svg -->
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"
        />
      </svg>
      View all
    </button>
  </div>

  <div class="divider">
    <a (click)="teamNavigate.emit(shortUrl.Member)" class="link">View all</a>
  </div>
</div>

<div *ngIf="team.qnas.total">
  <h4>Top questions</h4>
  <a (click)="teamNavigate.emit(shortUrl.Qna)" class="link opacity-50">{{
    totalQnas
  }}</a>

  <div class="flex flex-row flex-nowrap">
    <div class="md:basis-10/12 flex flex-col flex-nowrap gap-y-10 mt-6">
      <newbee-qna-search-result
        *ngFor="let qna of team.qnas.sample"
        [qna]="qna"
        (orgNavigate)="orgNavigate.emit($event)"
      ></newbee-qna-search-result>
    </div>

    <div
      class="hidden md:basis-2/12 md:flex flex-col flex-nowrap justify-center items-center"
    >
      <newbee-view-all-btn
        (clicked)="teamNavigate.emit(shortUrl.Qna)"
      ></newbee-view-all-btn>
    </div>
  </div>

  <div class="divider">
    <a (click)="teamNavigate.emit(shortUrl.Qna)" class="link">View all</a>
  </div>
</div>

<div *ngIf="team.docs.total">
  <h4>Top docs</h4>
  <a (click)="teamNavigate.emit(shortUrl.Doc)" class="link opacity-50">{{
    totalDocs
  }}</a>

  <div class="flex flex-row flex-nowrap">
    <div class="md:basis-10/12 flex flex-col flex-nowrap gap-y-10 mt-6">
      <newbee-doc-search-result
        *ngFor="let doc of team.docs.sample"
        [doc]="doc"
        (orgNavigate)="orgNavigate.emit($event)"
      ></newbee-doc-search-result>
    </div>

    <div
      class="hidden md:basis-2/12 md:flex flex-col flex-nowrap justify-center items-center"
    >
      <newbee-view-all-btn
        (clicked)="teamNavigate.emit(shortUrl.Doc)"
      ></newbee-view-all-btn>
    </div>
  </div>

  <div class="divider">
    <a (click)="teamNavigate.emit(shortUrl.Doc)" class="link">View all</a>
  </div>
</div>
