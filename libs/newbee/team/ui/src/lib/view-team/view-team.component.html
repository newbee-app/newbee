<div class="mt-close">
  <div *ngIf="isAdmin; else teamName" class="w-fit">
    <newbee-dropdown placement="bottom-start">
      <h2
        label
        class="flex flex-row flex-nowrap items-center underline text-left"
      >
        {{ team.team.name }}

        <!-- chevron-down svg -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M19.5 8.25l-7.5 7.5-7.5-7.5"
          />
        </svg>
      </h2>

      <ul dropdown class="menu flex flex-col flex-nowrap">
        <li>
          <a (click)="teamNavigate.emit(keyword.Edit)" class="flex"
            >Edit team</a
          >
        </li>
        <li>
          <a (click)="teamNavigate.emit(keyword.Invite)" class="flex"
            >Invite members</a
          >
        </li>
      </ul>
    </newbee-dropdown>
  </div>

  <ng-template #teamName>
    <h2>{{ team.team.name }}</h2>
  </ng-template>

  <div class="divider"></div>
</div>

<div>
  <h4>Members</h4>
  <a (click)="teamNavigate.emit(shortUrl.Member)" class="link opacity-50">{{
    totalMembers
  }}</a>

  <div class="flex flex-row flex-nowrap gap-x-4 py-6 overflow-x-auto">
    <newbee-search-result
      *ngFor="let member of team.teamMembers.sample"
      [format]="searchResultFormat.Card"
      [searchResult]="member"
      [teamRole]="member.teamMember.role"
      (orgNavigate)="orgNavigate.emit($event)"
    ></newbee-search-result>

    <newbee-view-all-card-btn
      (clicked)="teamNavigate.emit(shortUrl.Member)"
    ></newbee-view-all-card-btn>
  </div>

  <div class="divider">
    <a (click)="teamNavigate.emit(shortUrl.Member)" class="link">View all</a>
  </div>
</div>

<div *ngIf="team.qnas.total">
  <h4>Top questions</h4>
  <a (click)="teamNavigate.emit(shortUrl.Qna)" class="link opacity-50">{{
    totalQnas
  }}</a>

  <div class="flex flex-row flex-nowrap">
    <div class="md:basis-10/12 flex flex-col flex-nowrap gap-y-10 mt-6">
      <newbee-search-result
        *ngFor="let qna of team.qnas.sample"
        [searchResult]="qna"
        (orgNavigate)="orgNavigate.emit($event)"
      ></newbee-search-result>
    </div>

    <div
      class="hidden md:basis-2/12 md:flex flex-col flex-nowrap justify-center items-center"
    >
      <newbee-view-all-btn
        (clicked)="teamNavigate.emit(shortUrl.Qna)"
      ></newbee-view-all-btn>
    </div>
  </div>

  <div class="divider">
    <a (click)="teamNavigate.emit(shortUrl.Qna)" class="link">View all</a>
  </div>
</div>

<div *ngIf="team.docs.total">
  <h4>Top docs</h4>
  <a (click)="teamNavigate.emit(shortUrl.Doc)" class="link opacity-50">{{
    totalDocs
  }}</a>

  <div class="flex flex-row flex-nowrap">
    <div class="md:basis-10/12 flex flex-col flex-nowrap gap-y-10 mt-6">
      <newbee-search-result
        *ngFor="let doc of team.docs.sample"
        [searchResult]="doc"
        (orgNavigate)="orgNavigate.emit($event)"
      ></newbee-search-result>
    </div>

    <div
      class="hidden md:basis-2/12 md:flex flex-col flex-nowrap justify-center items-center"
    >
      <newbee-view-all-btn
        (clicked)="teamNavigate.emit(shortUrl.Doc)"
      ></newbee-view-all-btn>
    </div>
  </div>

  <div class="divider">
    <a (click)="teamNavigate.emit(shortUrl.Doc)" class="link">View all</a>
  </div>
</div>
